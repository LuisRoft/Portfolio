---
interface Tech {
    name: string;
    icon: string;
}

interface Props {
    title: string;
    description: string;
    webLink?: string;
    repoLink?: string;
    repoFrontendLink?: string;
    repoBackendLink?: string;
    technologies: Tech[];
}

const { title, description, technologies, repoLink, repoFrontendLink, repoBackendLink, webLink } = Astro.props;
---

<li class="border dark:border-zinc-600 bg-blue-100 dark:bg-darkBg rounded-lg p-5">
    <div class="flex items-center justify-between">
        <h2 class="font-medium dark:text-darKText">
            {repoLink ? (
                <a aria-label="Link to enter to repository link" class="hover:text-primary dark:hover:text-yellow inline-flex gap-1 items-center" href={repoLink} target="_blank" rel="noopener noreferrer">
                    {title}
                    <span><i class="devicon-github-original"></i></span>
                </a>
            ) : (
                <span>{title}</span>
            )}
        </h2>

        {webLink && (
            <div class="rounded-md relative bg-green-300 dark:bg-green-400 px-2 font-semibold">
                <a class="text-textPrimary text-sm" aria-label="Link to enter to web" href={webLink} target="_blank" rel="noopener noreferrer">
                    web
                </a>
                <div class="absolute -top-1 -right-1">
                    <span class="relative flex h-3 w-3">
                        <span class="animate-ping absolute inline-flex h-full w-full rounded-full dark:bg-yellow bg-sky-400 opacity-75"></span>
                        <span class="relative inline-flex rounded-full bg-sky-500 h-3 w-3 dark:bg-yellow"></span>
                    </span>
                </div>
            </div>
        )}
    </div>

    {(repoFrontendLink || repoBackendLink) && (
        <div class="flex items-center gap-2 mt-2">
            {repoFrontendLink && (
                <div class="bg-blue-300 hover:bg-blue-400 flex items-center rounded px-1.5 py-1 text-xs dark:hover:bg-yellow dark:bg-textPrimary dark:hover:text-textPrimary dark:text-darKText font-semibold">
                    <a class="inline-flex gap-1 items-center" href={repoFrontendLink} target="_blank" rel="noopener noreferrer" aria-label="Link to entero to fronted repository">
                        Frontend
                        <span><i class="devicon-github-original"></i></span>
                    </a>
                </div>
            )}
    
            {repoBackendLink && (
                <div class="bg-blue-300 hover:bg-blue-400 flex items-center rounded px-1.5 py-1 text-xs dark:hover:bg-yellow dark:bg-textPrimary dark:hover:text-textPrimary dark:text-darKText font-semibold">
                    <a class="inline-flex gap-1 items-center" href={repoBackendLink} target="_blank" rel="noopener noreferrer" aria-label="Link to entero to backend repository">
                        Backend
                        <span><i class="devicon-github-original"></i></span>
                    </a>
                </div>
            )}
        </div>
    )}



    <p class="mt-2 leading-relaxed text-gray-700 dark:text-darkTextSecondary">
        {description}
    </p>

    <ul class="mt-2 flex flex-wrap gap-2">
        {technologies.map((tech) => (
            <li class="dark:bg-textPrimary bg-bodyColor text-textPrimary dark:text-darKText rounded-md px-2 py-1 text-sm flex items-center justify-center gap-1">
                <i class={`devicon-${tech.icon}`}></i> {tech.name}
            </li>
        ))}
    </ul>
</li>
